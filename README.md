# (Unofficial) BeatSaber Mod Manager (BSMM)

This package allows you to download, (un)install and manage mod packages for BeatSaber from beatmods.com.
Included in this distribution package are a client library (beatmodsapi.py), a GUI client (bsmmgui.py) and
a CLI (bsmm.py).

# Using the GUI Client

Run the script bsmmgui.py. This should open a window and immediately scan the beatmods repository for mod
information. All available mods are now shown in the upper list and can be installed by selecting them and
clicking the "Install" button below the list. This will move the mod to the lower list and stage it for
installation. Having selected all desired mods, clicking the "Patch" button will download and install the
packages, which will be shown in the bottom list as being installed. BSMM keeps track of installed mods and
will automatically stage packages for installation if an update has been detected. You will be able to review
the updates that will be installed before patching. To uninstall a package, select it in the bottom list and
click "Uninstall". To uninstall the staged packages, hit "Patch". Note that updating a package will first
uninstall it. This is intended as it prevents files from previous versions that are not used anymore from
remaining on the filesystem.

NOTE: BSMM needs to know the location of your BeatSaber installation folder in order to function properly.
To specify the location of the folder, copy the path and paste it into the text field at the top of the window.
BSMM will automatically save the directory and default to it the next time you open the GUI.

# Using the CLI

The bsmm command features a help page that lists the available subcommands. Using bsmm, you can search, install,
uninstall and view installed packages. It is particularly useful for automating tasks such as updates.

To run the auto updater before executing a command, specify the --update flag. This will execute any subcommand
you specified as usual AFTER ensuring all installed packages are up to date.
To launch the game after executing a command, specify the --launch flag. This will attempt to start the game
executable AFTER the chosen subcommand was executed.

NOTE: BSMM needs to know the location of your BeatSaber installation folder in order to function properly. If
using the CLI, it is thus required to specify it for each command using the --path option UNLESS a file with
the name "config.json" exists in the BSMM directory which contains a JSON blob with the "application_path" key
set to the BeatSaber installation folder.
This file will be automatically generated by the GUI Client.

# Using the library

The beatmodsapi.Patcher class provides a complete solution for enumerating, (un)installing and managing packages
from beatmods.com. After initiating a scan using Patcher.refresh(), you can access available remote and local
packages through the Patcher.remote and Patcher.local lists respectively. To install a mod, add its ModSpec to
the stage list using Patcher.addMod(). Patcher.removeMod() works similarly. Calling Patcher.patch() will start
the patching machinery.
If you want a more low level interface to the beatmods API, consider using beatmodsapi.getBeatModsList() and
beatmodsapi.downloadMod() instead:

getBeatModsList() fetches the remote list of available mods and returns a list containing dictionaries with
	information about them. It supports a number of filtering arguments and transmitted data is automatically
	compressed to reduce network bandwidth.

downloadMod() opens a mod package and returns a file like object yielding a binary data stream. The url argument
	should be set to one of the strings provided under the "downloads" key in the dictionary.

The ModSpec class provides a convenient container format for the dictionary data returned by getBeatModsList().
To parse data from a dictionary, use the classmethod ModSpec.fromBeatMods(). Note that not all available information
is parsed but only what is needed for the Patcher class to work.
ModSpec instances can be serialized using file like objects. This allows for simple data persistance solutions.
The data is serialized as JSON so it is easily readable.